<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description"
              content="GoldenOpinions: Empower your business with honest reviews. Collect and display genuine customer feedback to boost trust, enhance your reputation, and reward loyal patrons. Revolutionize your business success today.">
        <title>
            {% block title %}{% endblock %}
        - Golden Opinions</title>
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins&family=Open+Sans&display=swap"
              rel="stylesheet">
        <link href="{{ url_for('static', filename='css/output.css') }}"
              rel="stylesheet">
        <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
        <link rel="shortcut icon"
              href="{{ url_for('static', filename='favicon.ico') }}"></link>
    <style nonce="golden">{% block style %}{% endblock %}</style>
</head>
<body>
    {% import 'macros.html' as macros %}
    <div class="mycontainer">
        <div class="bg-slate-950 h-screen w-[200px] fixed hidden sm:block px-6 text-gray-400 flex-col"
             id="dashboard-navbar">
            <div class="text-lg text-amber-400 py-4 font-bold select-none cursor-pointer">
                <a href="{{ url_for("index") }}">Golden Opinions</a>
            </div>
            <a href="{{ url_for("dashboard") }}">
                <div class="w-full my-1 px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-slate-800 select-none cursor-pointer {{ 'active' if active_page=='dashboard'}}">
                    <span>{{ macros.svg("store", size=20, class='fill-gray-400') }}</span><span>Stores</span>
                </div>
            </a>
            <a href="{{ url_for("addstore") }}">
                <div class="w-full my-1 px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-slate-800 select-none cursor-pointer {{ 'active' if active_page=='addstore'}}">
                    <span>{{ macros.svg("add_business", size=20, class='fill-gray-400') }}</span><span>Add Store</span>
                </div>
            </a>
            <a href="{{ url_for("articles") }}">
                <div class="w-full my-1 px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-slate-800 select-none cursor-pointer {{ 'active' if active_page=='articles'}}">
                    <span>{{ macros.svg("newsstand", size=20, class='fill-gray-400') }}</span><span>Articles</span>
                </div>
            </a>
            <a href="{{ url_for("add_article") }}">
                <div class="w-full my-1 px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-slate-800 select-none cursor-pointer {{ 'active' if active_page=='addarticle'}}">
                    <span>{{ macros.svg("post_add", size=20, class='fill-gray-400') }}</span><span>Add Article</span>
                </div>
            </a>
            <a href="{{ url_for("action_center") }}">
                <div class="w-full my-1 px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-slate-800 select-none cursor-pointer {{ 'active' if active_page=='actions'}}">
                    <span>{{ macros.svg("work", size=20, class='fill-gray-400') }}</span><span>Action Center</span>
                </div>
            </a>
            <a href="{{ url_for("settings") }}">
                <div class="w-full my-1 px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-slate-800 select-none cursor-pointer {{ 'active' if active_page=='settings'}}">
                    <span>{{ macros.svg("settings", size=20, class='fill-gray-400') }}</span><span>Settings</span>
                </div>
            </a>
            <a href="{{ url_for("logout") }}">
                <div class="w-full my-1 px-4 py-2 rounded-lg text-sm flex items-center gap-2 hover:bg-slate-800 select-none cursor-pointer">
                    <span>{{ macros.svg("logout", size=20, class='fill-gray-400') }}</span><span>Logout</span>
                </div>
            </a>
        </div>
        <div class="h-screen ml-0 sm:ml-[200px]">
            <div class="w-full p-4 shadow shadow-md select-none flex items-center gap-2">
                <div class="sm:hidden cursor-pointer" id='dashboard-navmenu'>{{ macros.svg('menu', size=28) }}</div>
                <div class="flex gap-1 items-center font-bold text-gray-500 text-base sm:text-lg">
                    <div class="">Admin [{{ current_user.username }}]</div>
                    <div class="text-sm sm:text-base">-</div>
                    <div class="text-slate-950">
                        {% if active_page == 'dashboard' %}
                            Stores
                        {% elif active_page == 'addstore' %}
                            Add Store
                        {% elif active_page == 'editstore' %}
                            Edit Store
                        {% elif active_page == 'settings' %}
                            Settings
                        {% elif active_page == 'addarticle' %}
                            Add Article
                        {% elif active_page == 'editarticle' %}
                            Edit Article
                        {% elif active_page == 'articles' %}
                            All Articles
                        {% elif active_page == 'actions' %}
                            Action Center
                        {% elif active_page == 'campaign' %}
                            Campaign Approval
                        {% elif active_page == 'verify_email' %}
                            Verify Email Address
                        {% endif %}
                    </div>
                </div>
            </div>
            <div id="main">
                {% with messages = get_flashed_messages(True) %}
                    {% if messages %}
                        {% for message in messages %}
                            {% set alert_style = "text-green-800 bg-green-50 shadow-green-200" %}
                            {% if message[0] == 'error' %}
                                {% set alert_style = "text-red-800 bg-red-50 shadow-red-200" %}
                            {% endif %}
                            <div class="p-4 my-2 mx-auto w-fit max-w-[600px] text-sm rounded-md shadow {{ alert_style }}"
                                 role="alert">{{ message[1] }}</div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}
                {% block content %}{% endblock %}
            </div>
        </div>
        <div class='h-screen w-full ml-[200px] fixed opacity-70 bg-gray-500 hidden'
             id="dashboard-overlay"></div>
    </div>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js'></script>
    <script src="{{ url_for('static', filename='js/dashboard.common.js') }}"></script>
    {% block script %}{% endblock %}
</body>
</html>
